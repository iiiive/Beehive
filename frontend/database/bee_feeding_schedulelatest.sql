-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Oct 06, 2025 at 09:24 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `beemonitoring`
--

-- --------------------------------------------------------

--
-- Table structure for table `bee_feeding_schedule`
--

CREATE TABLE `bee_feeding_schedule` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `next_feed` datetime NOT NULL,
  `interval_minutes` int(11) NOT NULL,
  `last_fed` datetime DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `fed_by_user_id` int(10) UNSIGNED DEFAULT NULL,
  `fed_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `bee_feeding_schedule`
--

INSERT INTO `bee_feeding_schedule` (`id`, `user_id`, `next_feed`, `interval_minutes`, `last_fed`, `created_at`, `fed_by_user_id`, `fed_at`) VALUES
(1, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:31:54', '2025-10-03 15:57:56', 3, '2025-10-05 03:31:54'),
(2, 4, '2025-10-05 04:09:29', 1, '2025-10-05 04:08:29', '2025-10-04 06:41:30', 4, '2025-10-05 04:08:29'),
(3, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:48', '2025-10-04 19:36:48', 3, '2025-10-05 03:36:48'),
(4, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:50', '2025-10-04 19:36:50', 3, '2025-10-05 03:36:50'),
(5, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:51', '2025-10-04 19:36:51', 3, '2025-10-05 03:36:51'),
(6, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:51', '2025-10-04 19:36:51', 3, '2025-10-05 03:36:51'),
(7, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:51', '2025-10-04 19:36:51', 3, '2025-10-05 03:36:51'),
(8, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:51', '2025-10-04 19:36:51', 3, '2025-10-05 03:36:51'),
(9, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:51', '2025-10-04 19:36:51', 3, '2025-10-05 03:36:51'),
(10, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:53', '2025-10-04 19:36:53', 3, '2025-10-05 03:36:53'),
(11, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:53', '2025-10-04 19:36:53', 3, '2025-10-05 03:36:53'),
(12, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:53', '2025-10-04 19:36:53', 3, '2025-10-05 03:36:53'),
(13, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:36:55', '2025-10-04 19:36:55', 3, '2025-10-05 03:36:55'),
(14, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:38:47', '2025-10-04 19:38:47', 3, '2025-10-05 03:38:47'),
(15, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:38:52', '2025-10-04 19:38:52', 3, '2025-10-05 03:38:52'),
(16, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:38:53', '2025-10-04 19:38:53', 3, '2025-10-05 03:38:53'),
(17, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:38:53', '2025-10-04 19:38:53', 3, '2025-10-05 03:38:53'),
(18, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:44:02', '2025-10-04 19:44:02', 3, '2025-10-05 03:44:02'),
(19, 3, '2025-10-05 09:32:38', 1, '2025-10-05 03:45:05', '2025-10-04 19:45:05', 3, '2025-10-05 03:45:05'),
(20, 4, '2025-10-05 04:09:29', 1, '2025-10-05 04:08:29', '2025-10-04 19:45:30', 4, '2025-10-05 04:08:29'),
(21, 4, '2025-10-05 04:09:29', 1, '2025-10-05 04:08:29', '2025-10-04 19:52:56', 4, '2025-10-05 04:08:29'),
(22, 4, '2025-10-05 04:09:29', 1, '2025-10-05 04:08:29', '2025-10-04 19:56:56', 4, '2025-10-05 04:08:29'),
(23, 3, '2025-10-05 09:32:38', 1, '2025-10-05 04:03:37', '2025-10-04 20:03:37', 3, '2025-10-05 04:03:37'),
(24, 4, '2025-10-05 04:09:29', 1, '2025-10-05 04:08:29', '2025-10-04 20:06:16', 4, '2025-10-05 04:08:29'),
(25, 4, '2025-10-05 04:09:29', 1, '2025-10-05 04:08:29', '2025-10-04 20:07:57', 4, '2025-10-05 04:08:29'),
(26, 4, '2025-10-05 04:12:12', 1, '2025-10-05 04:11:12', '2025-10-04 20:11:12', 4, '2025-10-05 04:11:12'),
(27, 3, '2025-10-05 09:32:38', 1, '2025-10-05 04:11:36', '2025-10-04 20:11:36', 3, '2025-10-05 04:11:36'),
(28, 3, '2025-10-05 09:32:38', 1, '2025-10-05 04:12:39', '2025-10-04 20:12:39', 3, '2025-10-05 04:12:39'),
(29, 4, '2025-10-05 04:14:49', 1, '2025-10-05 04:13:49', '2025-10-04 20:13:49', 4, '2025-10-05 04:13:49'),
(30, 4, '2025-10-05 04:19:36', 1, '2025-10-05 04:18:36', '2025-10-04 20:18:36', 4, '2025-10-05 04:18:36'),
(31, 4, '2025-10-05 04:21:26', 1, '2025-10-05 04:20:26', '2025-10-04 20:20:26', 4, '2025-10-05 04:20:26'),
(32, 4, '2025-10-05 04:23:53', 1, '2025-10-05 04:22:53', '2025-10-04 20:22:53', 4, '2025-10-05 04:22:53'),
(33, 4, '2025-10-05 04:25:04', 1, '2025-10-05 04:24:04', '2025-10-04 20:24:04', 4, '2025-10-05 04:24:04'),
(34, 4, '2025-10-05 04:26:23', 1, '2025-10-05 04:25:23', '2025-10-04 20:25:23', 4, '2025-10-05 04:25:23'),
(35, 3, '2025-10-05 09:32:38', 1, '2025-10-05 04:28:17', '2025-10-04 20:28:17', 3, '2025-10-05 04:28:17'),
(36, 3, '2025-10-05 09:32:38', 1, '2025-10-05 04:32:41', '2025-10-04 20:32:41', 3, '2025-10-05 04:32:41'),
(37, 3, '2025-10-05 09:32:38', 1, '2025-10-05 14:19:55', '2025-10-05 06:19:55', 3, '2025-10-05 14:19:55'),
(38, 3, '2025-10-05 09:32:38', 1, '2025-10-05 14:29:51', '2025-10-05 06:29:51', 3, '2025-10-05 14:29:51'),
(39, 3, '2025-10-05 09:32:38', 1, '2025-10-05 14:36:59', '2025-10-05 06:36:59', 3, '2025-10-05 14:36:59'),
(40, 3, '2025-10-05 09:32:38', 1, '2025-10-05 14:39:38', '2025-10-05 06:39:38', 3, '2025-10-05 14:39:38'),
(41, 3, '2025-10-05 09:32:38', 1, '2025-10-05 14:46:56', '2025-10-05 06:46:56', 3, '2025-10-05 14:46:56'),
(42, 3, '2025-10-05 09:32:38', 1, '2025-10-05 15:12:22', '2025-10-05 07:12:22', 3, '2025-10-05 15:12:22'),
(43, 3, '2025-10-05 15:32:41', 1, '2025-10-05 15:31:41', '2025-10-05 07:31:41', 3, '2025-10-05 15:31:41'),
(44, 3, '2025-10-06 12:19:22', 1, '2025-10-06 12:18:22', '2025-10-06 04:18:22', 3, '2025-10-06 12:18:22'),
(45, 4, '2025-10-06 12:47:05', 1, '2025-10-06 12:46:05', '2025-10-06 04:46:05', 4, '2025-10-06 12:46:05'),
(46, 4, '2025-10-06 12:48:14', 1, '2025-10-06 12:47:14', '2025-10-06 04:47:14', 4, '2025-10-06 12:47:14'),
(47, 3, '2025-10-06 14:38:01', 1, '2025-10-06 14:37:01', '2025-10-06 06:37:01', 3, '2025-10-06 14:37:01'),
(48, 4, '2025-10-06 14:39:14', 1, '2025-10-06 14:38:14', '2025-10-06 06:38:14', 4, '2025-10-06 14:38:14');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `bee_feeding_schedule`
--
ALTER TABLE `bee_feeding_schedule`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_user_feeding` (`fed_by_user_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `bee_feeding_schedule`
--
ALTER TABLE `bee_feeding_schedule`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=49;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `bee_feeding_schedule`
--
ALTER TABLE `bee_feeding_schedule`
  ADD CONSTRAINT `fk_user_feeding` FOREIGN KEY (`fed_by_user_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
