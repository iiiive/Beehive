-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Sep 30, 2025 at 04:02 PM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `beemonitoring`
--

-- --------------------------------------------------------

--
-- Table structure for table `admins`
--

CREATE TABLE `admins` (
  `admin_id` int(10) UNSIGNED NOT NULL,
  `firstname` varchar(50) NOT NULL,
  `lastname` varchar(50) NOT NULL,
  `username` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `status` enum('active','disabled','pending') DEFAULT 'active',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `reset_token` varchar(64) DEFAULT NULL,
  `reset_expires` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `admins`
--

INSERT INTO `admins` (`admin_id`, `firstname`, `lastname`, `username`, `email`, `password_hash`, `status`, `created_at`, `reset_token`, `reset_expires`) VALUES
(1, 'Super', 'Admin', 'Charlin', 'charlinive@gmail.com', '$2y$10$7pf.t9DxI5U1pfKmyQ.J7u6jg6teTobBXLUADI9unv.qNVcbo39Y6', 'active', '2025-09-24 06:05:37', NULL, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `beehive_readings`
--

CREATE TABLE `beehive_readings` (
  `reading_id` int(11) NOT NULL,
  `timestamp` datetime DEFAULT current_timestamp(),
  `temperature` int(11) DEFAULT NULL,
  `humidity` int(11) DEFAULT NULL,
  `weight` decimal(6,2) DEFAULT NULL,
  `fan_status` tinyint(1) DEFAULT NULL,
  `status` varchar(50) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `beehive_readings`
--

INSERT INTO `beehive_readings` (`reading_id`, `timestamp`, `temperature`, `humidity`, `weight`, `fan_status`, `status`) VALUES
(1, '2025-09-13 19:05:41', 32, 70, 6.00, 1, NULL),
(2, '2025-09-13 19:17:41', 36, 99, 5.00, 0, NULL),
(3, '2025-09-13 19:38:39', 34, 64, 9.00, 1, NULL),
(4, '2025-09-13 19:45:01', 39, 71, 3.00, 0, NULL),
(5, '2025-09-13 19:50:02', 34, 73, 7.00, 0, NULL),
(6, '2025-09-13 19:55:01', 34, 85, 14.00, 0, NULL),
(7, '2025-09-13 20:00:02', 36, 70, 19.00, 0, NULL),
(8, '2025-09-27 10:41:29', 30, 72, 12.50, 1, 'Good'),
(9, '2025-09-27 11:23:08', 31, 88, 2.00, 0, 'Bad'),
(10, '2025-09-27 11:40:01', 36, 76, 11.00, 0, 'Bad'),
(11, '2025-09-27 11:45:01', 38, 61, 20.00, 1, 'Bad'),
(12, '2025-09-27 11:50:01', 32, 68, 7.00, 0, 'Good'),
(13, '2025-09-27 11:55:01', 35, 75, 1.00, 1, 'Bad'),
(14, '2025-09-27 12:00:01', 30, 66, 10.00, 1, 'Good'),
(15, '2025-09-27 18:15:02', 40, 73, 20.00, 0, 'Bad'),
(16, '2025-09-27 18:19:48', 31, 80, 20.00, 0, 'Good'),
(17, '2025-09-27 18:20:02', 33, 77, 16.00, 1, 'Bad'),
(18, '2025-09-27 18:25:02', 36, 64, 19.00, 0, 'Bad'),
(19, '2025-09-27 18:30:02', 37, 64, 9.00, 0, 'Bad'),
(20, '2025-09-27 18:35:02', 32, 72, 19.00, 0, 'Good'),
(21, '2025-09-27 18:38:33', 35, 86, 2.00, 0, 'Bad'),
(22, '2025-09-27 18:40:02', 30, 88, 1.00, 0, 'Bad'),
(23, '2025-09-27 18:40:49', 38, 79, 10.00, 0, 'Bad'),
(24, '2025-09-27 18:43:08', 39, 87, 9.00, 1, 'Bad'),
(25, '2025-09-27 18:43:27', 36, 63, 17.00, 0, 'Bad'),
(26, '2025-09-27 18:45:02', 37, 90, 2.00, 1, 'Bad'),
(27, '2025-09-27 18:50:02', 32, 72, 6.00, 1, 'Good'),
(28, '2025-09-27 18:54:04', 34, 79, 10.00, 0, 'Bad'),
(29, '2025-09-27 18:54:37', 37, 72, 8.00, 0, 'Bad'),
(30, '2025-09-27 18:55:02', 38, 69, 17.00, 1, 'Bad'),
(31, '2025-09-27 19:00:02', 32, 61, 19.00, 0, 'Bad'),
(32, '2025-09-27 19:02:01', 33, 88, 9.00, 1, 'Bad'),
(33, '2025-09-27 19:02:22', 35, 84, 17.00, 0, 'Bad'),
(34, '2025-09-27 19:04:31', 37, 71, 20.00, 0, 'Bad'),
(35, '2025-09-27 19:04:44', 31, 74, 4.00, 1, 'Good'),
(36, '2025-09-27 19:05:02', 31, 77, 17.00, 0, 'Good'),
(37, '2025-09-27 19:05:20', 36, 85, 7.00, 1, 'Bad'),
(38, '2025-09-27 19:09:58', 34, 88, 4.00, 1, 'Bad'),
(39, '2025-09-27 19:10:02', 31, 60, 11.00, 0, 'Bad'),
(40, '2025-09-27 19:10:13', 38, 76, 15.00, 0, 'Bad'),
(41, '2025-09-27 19:15:02', 39, 75, 7.00, 1, 'Bad'),
(42, '2025-09-27 19:17:47', 34, 90, 6.00, 1, 'Bad'),
(43, '2025-09-27 19:18:13', 38, 87, 7.00, 1, 'Bad'),
(44, '2025-09-27 19:18:31', 35, 81, 4.00, 1, 'Bad'),
(45, '2025-09-27 19:20:02', 40, 65, 10.00, 1, 'Bad'),
(46, '2025-09-27 19:23:01', 37, 84, 15.00, 1, 'Bad'),
(47, '2025-09-27 19:25:02', 31, 68, 16.00, 1, 'Good'),
(48, '2025-09-27 19:25:56', 39, 72, 3.00, 0, 'Bad'),
(49, '2025-09-27 19:27:06', 34, 76, 14.00, 1, 'Bad'),
(50, '2025-09-27 19:27:12', 36, 90, 6.00, 1, 'Bad'),
(51, '2025-09-27 19:27:23', 30, 60, 10.00, 0, 'Bad'),
(52, '2025-09-27 19:27:47', 39, 60, 3.00, 1, 'Bad'),
(53, '2025-09-27 19:28:06', 39, 63, 15.00, 0, 'Bad'),
(54, '2025-09-27 19:29:08', 35, 62, 12.00, 1, 'Bad'),
(55, '2025-09-27 19:29:29', 39, 83, 8.00, 1, 'Bad'),
(56, '2025-09-27 19:30:02', 39, 76, 1.00, 1, 'Bad'),
(57, '2025-09-27 19:34:23', 38, 89, 5.00, 0, 'Bad'),
(58, '2025-09-27 19:35:02', 34, 72, 13.00, 0, 'Bad'),
(59, '2025-09-27 19:36:05', 38, 65, 7.00, 1, 'Bad'),
(60, '2025-09-27 19:40:02', 39, 74, 11.00, 1, 'Bad'),
(61, '2025-09-27 19:41:49', 35, 62, 10.00, 1, 'Bad'),
(62, '2025-09-27 19:42:04', 38, 72, 3.00, 1, 'Bad'),
(63, '2025-09-27 19:44:02', 40, 72, 15.00, 0, 'Bad'),
(64, '2025-09-27 19:45:02', 34, 84, 6.00, 0, 'Bad'),
(65, '2025-09-27 19:50:02', 38, 84, 8.00, 1, 'Bad'),
(66, '2025-09-27 20:16:58', 33, 69, 12.00, 0, 'Bad'),
(67, '2025-09-27 20:20:02', 36, 62, 10.00, 1, 'Bad'),
(68, '2025-09-28 23:02:27', 37, 70, 11.00, 1, 'Bad'),
(69, '2025-09-28 23:02:38', 33, 63, 9.00, 0, 'Bad'),
(70, '2025-09-28 23:02:59', 30, 81, 9.00, 1, 'Good'),
(71, '2025-09-28 23:03:09', 36, 78, 13.00, 1, 'Bad'),
(72, '2025-09-28 23:04:55', 40, 66, 5.00, 0, 'Bad'),
(73, '2025-09-28 23:05:02', 30, 64, 5.00, 1, 'Bad'),
(74, '2025-09-28 23:05:34', 33, 80, 5.00, 0, 'Bad'),
(75, '2025-09-28 23:05:57', 40, 68, 10.00, 1, 'Bad'),
(76, '2025-09-28 23:10:02', 30, 86, 17.00, 0, 'Bad'),
(77, '2025-09-28 23:15:02', 34, 90, 10.00, 0, 'Bad'),
(78, '2025-09-29 17:52:13', 25, 60, NULL, NULL, 'Bad'),
(79, '2025-09-30 21:48:54', 28, 99, 0.00, 0, 'Bad'),
(80, '2025-09-30 21:48:55', 28, 99, 0.00, 0, 'Bad'),
(81, '2025-09-30 21:48:56', 28, 99, 0.00, 0, 'Bad'),
(82, '2025-09-30 21:48:57', 28, 97, 0.00, 0, 'Bad'),
(83, '2025-09-30 21:48:58', 28, 97, 0.00, 0, 'Bad'),
(84, '2025-09-30 21:48:58', 28, 97, 0.00, 0, 'Bad'),
(85, '2025-09-30 21:49:02', 28, 97, 0.00, 0, 'Bad'),
(86, '2025-09-30 21:49:02', 28, 97, 0.00, 0, 'Bad'),
(87, '2025-09-30 21:49:03', 28, 97, 0.00, 0, 'Bad'),
(88, '2025-09-30 21:49:04', 28, 97, 0.00, 0, 'Bad'),
(89, '2025-09-30 21:49:04', 28, 97, 0.00, 0, 'Bad'),
(90, '2025-09-30 21:49:05', 28, 97, 0.00, 0, 'Bad'),
(91, '2025-09-30 21:49:09', 28, 97, 0.00, 0, 'Bad'),
(92, '2025-09-30 21:49:09', 28, 97, 0.00, 0, 'Bad'),
(93, '2025-09-30 21:49:10', 28, 97, 0.00, 0, 'Bad'),
(94, '2025-09-30 21:49:11', 28, 97, 0.00, 0, 'Bad'),
(95, '2025-09-30 21:49:12', 28, 97, 0.00, 0, 'Bad'),
(96, '2025-09-30 21:49:12', 28, 97, 0.00, 0, 'Bad'),
(97, '2025-09-30 21:49:13', 28, 97, 0.00, 0, 'Bad'),
(98, '2025-09-30 21:49:14', 28, 97, 0.00, 0, 'Bad'),
(99, '2025-09-30 21:49:14', 28, 97, 0.00, 0, 'Bad'),
(100, '2025-09-30 21:49:15', 28, 97, 0.00, 0, 'Bad'),
(101, '2025-09-30 21:49:16', 28, 97, 0.00, 0, 'Bad'),
(102, '2025-09-30 21:49:17', 28, 97, 0.00, 0, 'Bad'),
(103, '2025-09-30 21:49:18', 28, 97, 0.00, 0, 'Bad'),
(104, '2025-09-30 21:49:22', 28, 97, 0.00, 0, 'Bad'),
(105, '2025-09-30 21:49:25', 28, 97, 0.00, 0, 'Bad'),
(106, '2025-09-30 21:49:29', 28, 98, 0.00, 0, 'Bad'),
(107, '2025-09-30 21:49:32', 28, 97, 0.00, 0, 'Bad'),
(108, '2025-09-30 21:49:33', 28, 97, 0.00, 0, 'Bad'),
(109, '2025-09-30 21:49:34', 28, 97, 0.00, 0, 'Bad'),
(110, '2025-09-30 21:49:37', 28, 97, 0.00, 0, 'Bad'),
(111, '2025-09-30 21:49:41', 28, 97, 0.00, 0, 'Bad'),
(112, '2025-09-30 21:52:28', 28, 99, 0.00, 0, 'Bad'),
(113, '2025-09-30 21:52:31', 28, 99, 0.00, 0, 'Bad'),
(114, '2025-09-30 21:52:32', 28, 98, 0.00, 0, 'Bad'),
(115, '2025-09-30 21:52:33', 28, 98, 0.00, 0, 'Bad'),
(116, '2025-09-30 21:52:34', 28, 98, 0.00, 0, 'Bad'),
(117, '2025-09-30 21:52:35', 28, 98, 0.00, 0, 'Bad'),
(118, '2025-09-30 21:52:36', 28, 98, 0.00, 0, 'Bad'),
(119, '2025-09-30 21:52:36', 28, 98, 0.00, 0, 'Bad'),
(120, '2025-09-30 21:52:39', 28, 98, 0.00, 0, 'Bad'),
(121, '2025-09-30 21:52:43', 28, 98, 0.00, 0, 'Bad'),
(122, '2025-09-30 21:52:46', 28, 99, 0.00, 0, 'Bad'),
(123, '2025-09-30 21:52:49', 28, 99, 0.00, 0, 'Bad'),
(124, '2025-09-30 21:52:52', 28, 99, 0.00, 0, 'Bad'),
(125, '2025-09-30 21:52:53', 28, 99, 0.00, 0, 'Bad'),
(126, '2025-09-30 21:52:54', 28, 99, 0.00, 0, 'Bad'),
(127, '2025-09-30 21:52:55', 28, 99, 0.00, 0, 'Bad'),
(128, '2025-09-30 21:52:58', 28, 99, 0.00, 0, 'Bad'),
(129, '2025-09-30 21:52:59', 28, 99, 0.00, 0, 'Bad'),
(130, '2025-09-30 21:52:59', 28, 99, 0.00, 0, 'Bad'),
(131, '2025-09-30 21:53:00', 28, 99, 0.00, 0, 'Bad'),
(132, '2025-09-30 21:53:01', 28, 99, 0.00, 0, 'Bad'),
(133, '2025-09-30 21:53:02', 28, 99, 0.00, 0, 'Bad'),
(134, '2025-09-30 21:53:02', 28, 99, 0.00, 0, 'Bad'),
(135, '2025-09-30 21:53:06', 28, 99, 0.00, 0, 'Bad'),
(136, '2025-09-30 21:53:07', 28, 98, 0.00, 0, 'Bad'),
(137, '2025-09-30 21:53:09', 28, 98, 0.00, 0, 'Bad'),
(138, '2025-09-30 21:53:13', 28, 98, 0.00, 0, 'Bad'),
(139, '2025-09-30 21:53:17', 28, 98, 0.00, 0, 'Bad'),
(140, '2025-09-30 21:53:18', 28, 98, 0.00, 0, 'Bad'),
(141, '2025-09-30 21:53:19', 28, 98, 0.00, 0, 'Bad'),
(142, '2025-09-30 21:53:22', 28, 98, 0.00, 0, 'Bad'),
(143, '2025-09-30 21:53:26', 28, 98, 0.00, 0, 'Bad'),
(144, '2025-09-30 21:53:26', 28, 98, 0.00, 0, 'Bad'),
(145, '2025-09-30 21:53:29', 28, 98, 0.00, 0, 'Bad'),
(146, '2025-09-30 21:53:30', 28, 99, 0.00, 0, 'Bad'),
(147, '2025-09-30 21:53:32', 28, 99, 0.00, 0, 'Bad'),
(148, '2025-09-30 21:53:33', 28, 99, 0.00, 0, 'Bad'),
(149, '2025-09-30 21:53:33', 28, 99, 0.00, 0, 'Bad'),
(150, '2025-09-30 21:53:34', 28, 99, 0.00, 0, 'Bad'),
(151, '2025-09-30 21:53:35', 28, 100, 0.00, 0, 'Bad'),
(152, '2025-09-30 21:53:36', 28, 100, 0.00, 0, 'Bad'),
(153, '2025-09-30 21:53:36', 28, 100, 0.00, 0, 'Bad'),
(154, '2025-09-30 21:53:39', 28, 100, 0.00, 0, 'Bad'),
(155, '2025-09-30 21:53:40', 28, 100, 0.00, 0, 'Bad'),
(156, '2025-09-30 21:53:43', 28, 100, 0.00, 0, 'Bad'),
(157, '2025-09-30 21:53:44', 28, 100, 0.00, 0, 'Bad'),
(158, '2025-09-30 21:53:45', 28, 100, 0.00, 0, 'Bad'),
(159, '2025-09-30 21:53:49', 28, 100, 0.00, 0, 'Bad'),
(160, '2025-09-30 21:53:49', 28, 100, 0.00, 0, 'Bad'),
(161, '2025-09-30 21:53:50', 28, 100, 0.00, 0, 'Bad'),
(162, '2025-09-30 21:53:51', 28, 100, 0.00, 0, 'Bad'),
(163, '2025-09-30 21:53:51', 28, 100, 0.00, 0, 'Bad'),
(164, '2025-09-30 21:53:52', 28, 100, 0.00, 0, 'Bad'),
(165, '2025-09-30 21:53:53', 28, 100, 0.00, 0, 'Bad'),
(166, '2025-09-30 21:53:56', 28, 100, 0.00, 0, 'Bad'),
(167, '2025-09-30 21:53:57', 28, 100, 0.00, 0, 'Bad'),
(168, '2025-09-30 21:53:57', 28, 100, 0.00, 0, 'Bad'),
(169, '2025-09-30 21:53:58', 28, 100, 0.00, 0, 'Bad'),
(170, '2025-09-30 21:53:59', 28, 100, 0.00, 0, 'Bad'),
(171, '2025-09-30 21:54:00', 28, 100, 0.00, 0, 'Bad'),
(172, '2025-09-30 21:54:03', 28, 100, 0.00, 0, 'Bad'),
(173, '2025-09-30 21:54:04', 28, 100, 0.00, 0, 'Bad'),
(174, '2025-09-30 21:54:05', 28, 100, 0.00, 0, 'Bad'),
(175, '2025-09-30 21:54:05', 28, 100, 0.00, 0, 'Bad'),
(176, '2025-09-30 21:54:06', 28, 100, 0.00, 0, 'Bad'),
(177, '2025-09-30 21:54:07', 28, 100, 0.00, 0, 'Bad'),
(178, '2025-09-30 21:54:08', 28, 100, 0.00, 0, 'Bad'),
(179, '2025-09-30 21:54:08', 28, 100, 0.00, 0, 'Bad'),
(180, '2025-09-30 21:54:09', 28, 100, 0.00, 0, 'Bad'),
(181, '2025-09-30 21:54:10', 28, 100, 0.00, 0, 'Bad'),
(182, '2025-09-30 21:54:11', 28, 100, 0.00, 0, 'Bad'),
(183, '2025-09-30 21:54:11', 28, 100, 0.00, 0, 'Bad'),
(184, '2025-09-30 21:54:12', 28, 100, 0.00, 0, 'Bad'),
(185, '2025-09-30 21:54:13', 28, 100, 0.00, 0, 'Bad'),
(186, '2025-09-30 21:54:13', 28, 100, 0.00, 0, 'Bad'),
(187, '2025-09-30 21:54:14', 28, 100, 0.00, 0, 'Bad'),
(188, '2025-09-30 21:54:18', 28, 99, 0.00, 0, 'Bad'),
(189, '2025-09-30 21:54:18', 28, 99, 0.00, 0, 'Bad'),
(190, '2025-09-30 21:54:19', 28, 99, 0.00, 0, 'Bad'),
(191, '2025-09-30 21:54:20', 28, 99, 0.00, 0, 'Bad'),
(192, '2025-09-30 21:54:23', 28, 99, 0.00, 0, 'Bad'),
(193, '2025-09-30 21:54:27', 28, 99, 0.00, 0, 'Bad'),
(194, '2025-09-30 21:54:27', 28, 99, 0.00, 0, 'Bad'),
(195, '2025-09-30 21:54:28', 28, 99, 0.00, 0, 'Bad'),
(196, '2025-09-30 21:54:29', 28, 99, 0.00, 0, 'Bad'),
(197, '2025-09-30 21:54:29', 28, 99, 0.00, 0, 'Bad'),
(198, '2025-09-30 21:54:33', 28, 99, 0.00, 0, 'Bad'),
(199, '2025-09-30 21:54:36', 28, 99, 0.00, 0, 'Bad'),
(200, '2025-09-30 21:54:37', 28, 99, 0.00, 0, 'Bad'),
(201, '2025-09-30 21:54:37', 28, 99, 0.00, 0, 'Bad'),
(202, '2025-09-30 21:54:38', 28, 99, 0.00, 0, 'Bad'),
(203, '2025-09-30 21:54:39', 28, 99, 0.00, 0, 'Bad'),
(204, '2025-09-30 21:54:39', 28, 99, 0.00, 0, 'Bad'),
(205, '2025-09-30 21:54:40', 28, 99, 0.00, 0, 'Bad'),
(206, '2025-09-30 21:54:41', 28, 99, 0.00, 0, 'Bad'),
(207, '2025-09-30 21:54:45', 28, 99, 0.00, 0, 'Bad'),
(208, '2025-09-30 21:54:48', 28, 99, 0.00, 0, 'Bad'),
(209, '2025-09-30 21:54:51', 28, 99, 0.00, 0, 'Bad'),
(210, '2025-09-30 21:54:52', 28, 99, 0.00, 0, 'Bad'),
(211, '2025-09-30 21:54:53', 28, 99, 0.00, 0, 'Bad'),
(212, '2025-09-30 21:54:54', 28, 99, 0.00, 0, 'Bad'),
(213, '2025-09-30 21:54:54', 28, 99, 0.00, 0, 'Bad'),
(214, '2025-09-30 21:54:55', 28, 99, 0.00, 0, 'Bad'),
(215, '2025-09-30 21:54:56', 28, 99, 0.00, 0, 'Bad'),
(216, '2025-09-30 21:54:56', 28, 99, 0.00, 0, 'Bad'),
(217, '2025-09-30 21:55:00', 28, 99, 0.00, 0, 'Bad'),
(218, '2025-09-30 21:55:04', 28, 98, 0.00, 0, 'Bad'),
(219, '2025-09-30 21:55:04', 28, 98, 0.00, 0, 'Bad'),
(220, '2025-09-30 21:55:05', 28, 98, 0.00, 0, 'Bad'),
(221, '2025-09-30 21:55:09', 28, 98, 0.00, 0, 'Bad'),
(222, '2025-09-30 21:55:12', 28, 98, 0.00, 0, 'Bad'),
(223, '2025-09-30 22:01:50', 27, 100, 0.00, 0, 'Bad'),
(224, '2025-09-30 22:01:51', 27, 99, 0.00, 0, 'Bad'),
(225, '2025-09-30 22:01:51', 27, 99, 0.00, 0, 'Bad'),
(226, '2025-09-30 22:01:52', 27, 99, 0.00, 0, 'Bad'),
(227, '2025-09-30 22:01:55', 28, 99, 0.00, 0, 'Bad'),
(228, '2025-09-30 22:01:56', 28, 99, 0.00, 0, 'Bad'),
(229, '2025-09-30 22:01:59', 28, 99, 0.00, 0, 'Bad'),
(230, '2025-09-30 22:02:00', 28, 99, 0.00, 0, 'Bad'),
(231, '2025-09-30 22:02:01', 28, 99, 0.00, 0, 'Bad'),
(232, '2025-09-30 22:02:02', 28, 99, 0.00, 0, 'Bad'),
(233, '2025-09-30 22:02:05', 28, 99, 0.00, 0, 'Bad'),
(234, '2025-09-30 22:02:06', 28, 99, 0.00, 0, 'Bad'),
(235, '2025-09-30 22:02:07', 28, 99, 0.00, 0, 'Bad'),
(236, '2025-09-30 22:02:08', 28, 99, 0.00, 0, 'Bad'),
(237, '2025-09-30 22:02:11', 28, 99, 0.00, 0, 'Bad'),
(238, '2025-09-30 22:02:12', 28, 99, 0.00, 0, 'Bad'),
(239, '2025-09-30 22:02:12', 28, 99, 0.00, 0, 'Bad'),
(240, '2025-09-30 22:02:13', 28, 99, 0.00, 0, 'Bad'),
(241, '2025-09-30 22:02:16', 28, 99, 0.00, 0, 'Bad'),
(242, '2025-09-30 22:02:17', 28, 99, 0.00, 0, 'Bad'),
(243, '2025-09-30 22:02:20', 28, 99, 0.00, 0, 'Bad'),
(244, '2025-09-30 22:02:21', 28, 99, 0.00, 0, 'Bad'),
(245, '2025-09-30 22:02:22', 28, 99, 0.00, 0, 'Bad'),
(246, '2025-09-30 22:02:23', 28, 99, 0.00, 0, 'Bad'),
(247, '2025-09-30 22:02:24', 28, 99, 0.00, 0, 'Bad'),
(248, '2025-09-30 22:02:27', 28, 99, 0.00, 0, 'Bad'),
(249, '2025-09-30 22:02:28', 28, 98, 0.00, 0, 'Bad'),
(250, '2025-09-30 22:02:29', 28, 98, 0.00, 0, 'Bad'),
(251, '2025-09-30 22:02:32', 28, 98, 0.00, 0, 'Bad'),
(252, '2025-09-30 22:02:33', 28, 98, 0.00, 0, 'Bad'),
(253, '2025-09-30 22:02:33', 28, 98, 0.00, 0, 'Bad'),
(254, '2025-09-30 22:02:34', 28, 98, 0.00, 0, 'Bad');

--
-- Triggers `beehive_readings`
--
DELIMITER $$
CREATE TRIGGER `set_beehive_status_before_insert` BEFORE INSERT ON `beehive_readings` FOR EACH ROW BEGIN
    IF (NEW.temperature BETWEEN 28 AND 32)
       AND (NEW.humidity BETWEEN 65 AND 85) THEN
        SET NEW.status = 'Good';
    ELSE
        SET NEW.status = 'Bad';
    END IF;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `set_beehive_status_before_update` BEFORE UPDATE ON `beehive_readings` FOR EACH ROW BEGIN
    IF (NEW.temperature BETWEEN 28 AND 32)
       AND (NEW.humidity BETWEEN 65 AND 85) THEN
        SET NEW.status = 'Good';
    ELSE
        SET NEW.status = 'Bad';
    END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `db_access`
--

CREATE TABLE `db_access` (
  `db_id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `reset_token` varchar(64) DEFAULT NULL,
  `reset_expires` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `db_access`
--

INSERT INTO `db_access` (`db_id`, `username`, `password_hash`, `created_at`, `reset_token`, `reset_expires`) VALUES
(1, 'dbadmin', '$2y$10$Fz3hhfKinXBcqrxoR3O7C.rzM1qY5/igzI7Y4jlEt5Yj8Xp6XuRWa', '2025-09-28 11:52:49', NULL, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `user_id` int(10) UNSIGNED NOT NULL,
  `firstname` varchar(50) NOT NULL,
  `lastname` varchar(50) NOT NULL,
  `username` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `birthday` date NOT NULL,
  `address` varchar(255) DEFAULT NULL,
  `contact_number` varchar(20) DEFAULT NULL,
  `created_by_admin_id` int(10) UNSIGNED DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `status` enum('active','inactive') DEFAULT 'active',
  `reset_token` varchar(255) DEFAULT NULL,
  `reset_expires` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`user_id`, `firstname`, `lastname`, `username`, `email`, `password_hash`, `birthday`, `address`, `contact_number`, `created_by_admin_id`, `created_at`, `status`, `reset_token`, `reset_expires`) VALUES
(3, 'Charlin Iverson', 'Dalisay', 'ive', 'charlinive@gmail.com', '$2y$10$5p9EldSx7MHy2x2fZnVRQuIVm/XRxbmRrESBGNwqRsmwqI9utdmYO', '2004-01-05', '1030 Cubul, Sapalbutad, Angeles City', '09462038385', 1, '2025-09-24 06:06:29', 'active', NULL, NULL),
(4, 'Aira', 'Tolentino', 'airajade', 'airajadetolentino26@gmail.com', '$2y$10$sun71Srk1pWSOX7C3TzlA.osaD.BaAjXHneLI7TcRHAOUlEE/jQaC', '2004-04-26', 'mawaque, mabalacat', '09462038385', 1, '2025-09-26 06:06:14', 'active', NULL, NULL);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `admins`
--
ALTER TABLE `admins`
  ADD PRIMARY KEY (`admin_id`),
  ADD UNIQUE KEY `username` (`username`),
  ADD UNIQUE KEY `email` (`email`);

--
-- Indexes for table `beehive_readings`
--
ALTER TABLE `beehive_readings`
  ADD PRIMARY KEY (`reading_id`);

--
-- Indexes for table `db_access`
--
ALTER TABLE `db_access`
  ADD PRIMARY KEY (`db_id`),
  ADD UNIQUE KEY `username` (`username`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`user_id`),
  ADD UNIQUE KEY `username` (`username`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `created_by_admin_id` (`created_by_admin_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `admins`
--
ALTER TABLE `admins`
  MODIFY `admin_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `beehive_readings`
--
ALTER TABLE `beehive_readings`
  MODIFY `reading_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=255;

--
-- AUTO_INCREMENT for table `db_access`
--
ALTER TABLE `db_access`
  MODIFY `db_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `user_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `users`
--
ALTER TABLE `users`
  ADD CONSTRAINT `users_ibfk_1` FOREIGN KEY (`created_by_admin_id`) REFERENCES `admins` (`admin_id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
